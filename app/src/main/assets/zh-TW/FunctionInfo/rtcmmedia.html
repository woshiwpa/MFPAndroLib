<html>
<head>
<title>程式開發科學計算器幫助</title>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8"></head>
<body style="background-color:white;">
<h2 style="color:blue">程式開發科學計算器幫助：RTC多媒體函數</h2>
<table border="1" style="font-family:times;color:green;">
<tr>
<th>函數名</th>
<th>函數幫助資訊</th>
</tr>
<tr>
<td><center>add_peer_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::add_peer_stream(1) :</p>
<p>add_peer_stream函數將多媒體流（也就是視頻和音頻）鏈入web RTC的peer connection對象。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。它只有一個參數，就是peer connection對象的Id，也就是peer connection對象連接的遠端的地址。</p>
</td>
</tr>
<tr>
<td><center>add_rtc_media_ice_candidate</center></td>
<td><p>::mfp::multimedia::webrtc_lib::add_rtc_media_ice_candidate(2) :</p>
<p>add_rtc_media_ice_candidate函數將一個ICE協議候選對象加入到peer connection對象的ICE候選對象列表中。它有兩個參數，第一個參數是peer connection對象的Id。第二個參數是基於字符串的ICE候選對象的內容。</p>
</td>
</tr>
<tr>
<td><center>add_rtc_video_output</center></td>
<td><p>::mfp::multimedia::webrtc_lib::add_rtc_video_output(5) :</p>
<p>add_rtc_video_output將一個RTC視頻子窗口加到顯示窗口上。它有五個參數，第一個參數是顯示窗口的句柄，該句柄是open_screen_display函數的返回值。剩下的四個參數分別是基於整數的視頻子窗口的左上頂點的橫坐標，縱坐標，寬度和高度。這四個參數決定了視頻子窗口在顯示窗口上的位置。</p>
</td>
</tr>
<tr>
<td><center>close_rtc_media_peer</center></td>
<td><p>::mfp::multimedia::webrtc_lib::close_rtc_media_peer(1) :</p>
<p>本函數關閉一個web RTC的peer connection對象。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。本函數唯一的參數是peer connection對象的Id，也就是它的遠端地址。</p>
</td>
</tr>
<tr>
<td><center>create_rtc_media_answer</center></td>
<td><p>::mfp::multimedia::webrtc_lib::create_rtc_media_answer(5) :</p>
<p>本函數在接收到一個offer信令之後創建一個web RTC的answer信令。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。本函數有5個參數。第一個是peer connection對象的id。第二個是SDP的類型。該參數應該就是一個"offer"字符串。第三個參數是SDP的內容，也就是offer信令的內容。第四個參數是強制性的限制參數集。最後一個參數是可選的限制參數集。最後一個參數可以省略。本函數的一個例子是create_rtc_media_answer(remoteAddr, sdpType, sdpContent, [["OfferToReceiveAudio", "true"], ["OfferToReceiveVideo", supportVideoStr]], [["DtlsSrtpKeyAgreement", "true"]])。</p>
</td>
</tr>
<tr>
<td><center>create_rtc_media_offer</center></td>
<td><p>::mfp::multimedia::webrtc_lib::create_rtc_media_offer(3) :</p>
<p>本函數創建一個web RTC的offer信令。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。本函數有3個參數。第一個是peer connection對象的id。第二個參數是強制性的限制參數集。最後一個參數是可選的限制參數集。最後一個參數可以省略。本函數的一個例子是create_rtc_media_offer(remoteAddr, [["OfferToReceiveAudio", "true"], ["OfferToReceiveVideo", supportVideoStr]], [["DtlsSrtpKeyAgreement", "true"]])。</p>
</td>
</tr>
<tr>
<td><center>get_audio_track_enable</center></td>
<td><p>::mfp::multimedia::webrtc_lib::get_audio_track_enable(1) :</p>
<p>本函數測試音軌是否已經被激活。如果是，返回True，否則返回False。這個函數僅有一個參數，就是一個顯示窗口的句柄。該句柄是open_screen_display函數的返回值。</p>
</td>
</tr>
<tr>
<td><center>get_rtc_video_output_count</center></td>
<td><p>::mfp::multimedia::webrtc_lib::get_rtc_video_output_count(1) :</p>
<p>本函數返回一個顯示窗口上的RTC視頻子窗口的個數。本函數僅有一個參數就是顯示窗口的句柄。該句柄是open_screen_display函數的返回值。</p>
</td>
</tr>
<tr>
<td><center>get_rtc_video_output_lefttop</center></td>
<td><p>::mfp::multimedia::webrtc_lib::get_rtc_video_output_lefttop(2) :</p>
<p>本函數返回一個包含兩個元素的數組。第一個元素是一個RTC視頻輸出子窗口的左上角的x坐標。第二個元素是該RTC視頻輸出子窗口的左上角的y坐標。這個函數有兩個參數。第一個參數是一個顯示窗口的句柄。該句柄是open_screen_display函數的返回值。第二個參數是該RTC視頻輸出子窗口在顯示窗口的RTC視頻輸出子窗口序列中的索引。第一個RTC視頻輸出子窗口的索引是0，第二個RTC視頻輸出子窗口的索引是1，以此類推。</p>
</td>
</tr>
<tr>
<td><center>get_video_track_enable</center></td>
<td><p>::mfp::multimedia::webrtc_lib::get_video_track_enable(1) :</p>
<p>本函數測試視頻功能是否已經被激活。如果是，返回True，否則返回False。這個函數僅有一個參數，就是一個顯示窗口的句柄。該句柄是open_screen_display函數的返回值。</p>
</td>
</tr>
<tr>
<td><center>initialize_rtc_mmedia</center></td>
<td><p>::mfp::multimedia::webrtc_lib::initialize_rtc_mmedia(0) :</p>
<p>本函數用於初始化web RTC庫。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。如果初始化成功，函數返回True，否則返回False。</p>
</td>
</tr>
<tr>
<td><center>link_video_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::link_video_stream(4) :</p>
<p>此函數將web RTC視頻流鏈接到一個RTC視頻輸出窗口。它有四個參數。第一個是顯示窗口句柄，該句柄可以從open_screen_display函數調用中返回。第二個是peer connection對象的Id。第三個是視頻流軌的ID。最後一個是RTC視頻輸出子窗口在顯示窗口的RTC視頻輸出子窗口序列中的索引。此函數不會返回任何值。如果任何參數無效，或者無法將視頻流鏈接到視頻輸出窗口，本函數會拋出一個異常。</p>
</td>
</tr>
<tr>
<td><center>receive_rtc_mmedia_message</center></td>
<td><p>::mfp::multimedia::webrtc_lib::receive_rtc_mmedia_message(1) :</p>
<p>此函數取回一個web RTC消息。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。本函數只有一個參數，就是等待的時間。如果該參數是一個正數，則代表等待的毫秒數。如果該參數是0，函數立即返回。如果是一個負數，函數會阻塞等待直到有消息到來。如果在等待超時後仍然沒有消息到來，則返回null。如果函數取回了一個合法的消息，則該函數的返回值是一個四個元素的數組。第一個元素是消息的目標peer connection對象的id。第二個元素是當前RTC會話的id。第三個元素是消息的類型。最後一個元素是消息的內容。如果消息是RTC信令，消息的類型則是"signal"，而消息的內容則是一個Json字符串。該Json字符串的"type"域值是信令的類型，也就是"offer"，"answer"或者"candidate"；如果信令的類型是"offer"或者"answer"，則該Json字符串的"sdp"域值是SDP的內容。如果消息是peer connection的事件，消息的類型則是"pc"，而消息的內容則是一個Json字符串。該Json字符串的"type"域值是事件的類型，比如"ice_connection_change"；而"content"域值則是基於字符的事件內容。</p>
</td>
</tr>
<tr>
<td><center>remove_peer_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::remove_peer_stream(1) :</p>
<p>此函數移除peer connection對象的視頻流。這個函數僅有一個參數，也就是peer connection對象的Id。這個函數不返回任何值。</p>
</td>
</tr>
<tr>
<td><center>set_audio_track_enable</center></td>
<td><p>::mfp::multimedia::webrtc_lib::set_audio_track_enable(2) :</p>
<p>此函數激活或者關閉音軌。這個函數有兩個參數。第一個參數是一個顯示窗口的句柄。該顯示窗口的句柄可以從open_screen_display函數調用中返回。第二個是一個布爾值，True表示激活音軌而false則表示關閉音軌。這個函數的返回值是音軌之前的狀態。True表示函數調用之前是激活狀態而false則表示函數調用之前是關閉狀態。</p>
</td>
</tr>
<tr>
<td><center>set_rtc_media_remote_description</center></td>
<td><p>::mfp::multimedia::webrtc_lib::set_rtc_media_remote_description(3) :</p>
<p>本函數在接收到一個answer信令之後設置web RTC的遠程描述。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。本函數有3個參數。第一個是peer connection對象的id。第二個是SDP的類型。該參數應該就是一個"answer"字符串。第三個參數是SDP的內容，也就是answer信令的內容。本函數不返回任何值。本函數的一個例子是set_rtc_media_remote_description(remoteAddr, sdpType, sdpContent)。</p>
</td>
</tr>
<tr>
<td><center>set_video_track_enable</center></td>
<td><p>::mfp::multimedia::webrtc_lib::set_video_track_enable(2) :</p>
<p>此函數激活或者關閉視頻功能。這個函數有兩個參數。第一個參數是一個顯示窗口的句柄。該顯示窗口的句柄可以從open_screen_display函數調用中返回。第二個是一個布爾值，True表示激活視頻功能而false則表示關閉視頻功能。這個函數的返回值是視頻功能之前的狀態。True表示函數調用之前是激活狀態而false則表示函數調用之前是關閉狀態。</p>
</td>
</tr>
<tr>
<td><center>start_local_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::start_local_stream(2) :</p>
<p>此函數開啟web RTC本地視頻。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。這個函數有兩個參數。第一個參數是一個顯示窗口的句柄。該顯示窗口的句柄可以從open_screen_display函數調用中返回。第二個是個是RTC視頻輸出子窗口在顯示窗口的RTC視頻輸出子窗口序列中的索引（第一個視頻輸出子窗口的索引值為0，第二個子窗口索引的值是1，以此類推）。這個函數如果調用成功，其返回值是True。否則，本函數返回False。</p>
</td>
</tr>
<tr>
<td><center>stop_local_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::stop_local_stream(1) :</p>
<p>此函數關閉web RTC本地視頻。註意此處的web RTC是指的用於支持聲音和視頻通信的web RTC函數庫，而不是用於支持數據通信的WEBRTC協議棧。這個函數只有一個參數。該參數是一個顯示窗口的句柄。該顯示窗口的句柄可以從open_screen_display函數調用中返回。本函數沒有返回值。</p>
</td>
</tr>
<tr>
<td><center>unlink_video_stream</center></td>
<td><p>::mfp::multimedia::webrtc_lib::unlink_video_stream(2...) :</p>
<p>此函數斷開視頻流向RTC視頻輸出子窗口的輸出。這個函數有兩種工作模式。第一種工作模式有3個參數分別為一個顯示窗口的句柄（該顯示窗口的句柄可以從open_screen_display函數調用中返回）；一個peer connection對象的id；以及一個視頻軌的id。第二種工作模式有兩個參數分別為一個顯示窗口的句柄和一個RTC視頻輸出子窗口在顯示窗口的RTC視頻輸出子窗口序列中的索引（第一個視頻輸出子窗口的索引值為0，第二個子窗口索引的值是1，以此類推）。這個函數返回斷開的視頻軌的數目。</p>
</td>
</tr>
</table>
</body>
</html>
